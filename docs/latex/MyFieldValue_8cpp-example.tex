\hypertarget{MyFieldValue_8cpp-example}{}\section{My\+Field\+Value.\+cpp}
Contains a generic type\begin{DoxySeeAlso}{See also}
\href{https://en.cppreference.com/w/cpp/utility/variant}{\texttt{ https\+://en.\+cppreference.\+com/w/cpp/utility/variant}}
\end{DoxySeeAlso}
My\+Field\+Value.\+hpp \+: 
\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{comment}{//}}
\DoxyCodeLine{\textcolor{comment}{// Created by nhyarlathotep on 31/01/19.}}
\DoxyCodeLine{\textcolor{comment}{//}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "FieldValue.hpp"}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class }MyValue : \textcolor{keyword}{public} \mbox{\hyperlink{classZiApi_1_1FieldValue}{ZiApi::FieldValue}} \{}
\DoxyCodeLine{\textcolor{keyword}{public}:}
\DoxyCodeLine{    \textcolor{keyword}{explicit} MyValue(\textcolor{keywordtype}{int} value) \{ \_value = value; \};}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keyword}{explicit} MyValue(\textcolor{keywordtype}{double} value) \{ \_value = value; \};}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keyword}{explicit} MyValue(\textcolor{keyword}{const} std::string \&value) \{ \_value = value; \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keyword}{explicit} MyValue(ValueList \&\&value) \{ \_value = value; \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keyword}{const} ValueVariant \&\mbox{\hyperlink{classZiApi_1_1FieldValue_abfc23c5c8eca45110475c291ce4fcd6a}{getValue}}() \textcolor{keyword}{const} noexcept \textcolor{keyword}{override} \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classZiApi_1_1FieldValue_a597ab052783a2fe3e6cb87a8a6276f38}{\_value}}; \}}
\DoxyCodeLine{}
\DoxyCodeLine{    FieldValue \&\mbox{\hyperlink{classZiApi_1_1FieldValue_ae8b2b66a78907d11d5745af783561efa}{operator=}}(\textcolor{keyword}{const} ValueVariant \&valueVariant)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{        \_value = valueVariant;}
\DoxyCodeLine{        \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{    \}}
\DoxyCodeLine{\};}
\end{DoxyCodeInclude}
 Output \+: 
\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{42}
\DoxyCodeLine{Unexpected index}
\DoxyCodeLine{Hello world}
\DoxyCodeLine{Size : 3}
\DoxyCodeLine{666}
\DoxyCodeLine{Dessert > all}
\DoxyCodeLine{1.5}
\end{DoxyCodeInclude}
 My\+Field\+Value.\+cpp \+:


\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{\textcolor{comment}{//}}
\DoxyCodeLine{\textcolor{comment}{// Created by nhyarlathotep on 30/01/19.}}
\DoxyCodeLine{\textcolor{comment}{//}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include "MyFieldValue.hpp"}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordtype}{int} main() \{}
\DoxyCodeLine{    MyValue integer(10);}
\DoxyCodeLine{    MyValue string(\textcolor{stringliteral}{"Hello world"});}
\DoxyCodeLine{}
\DoxyCodeLine{    integer = 42;                                                           \textcolor{comment}{//operator = ValueVariant is implicitly constructed}}
\DoxyCodeLine{}
\DoxyCodeLine{    std::cout << std::get<int>(integer.getValue()) << std::endl;            \textcolor{comment}{//42}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{        std::cout << std::get<int>(\textcolor{keywordtype}{string}.getValue()) << std::endl;}
\DoxyCodeLine{    \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::bad\_variant\_access \&e) \{}
\DoxyCodeLine{        std::cout << e.what() << std::endl;                                 \textcolor{comment}{//Unexpected index}}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keywordflow}{if} (std::holds\_alternative<std::string>(\textcolor{keywordtype}{string}.getValue())) \{}
\DoxyCodeLine{        std::cout << std::get<std::string>(\textcolor{keywordtype}{string}.getValue()) << std::endl; \textcolor{comment}{//Hello world}}
\DoxyCodeLine{    \}}
\DoxyCodeLine{}
\DoxyCodeLine{    MyValue::ValueList list;}
\DoxyCodeLine{}
\DoxyCodeLine{    list.push\_back(std::make\_shared<MyValue>(666));}
\DoxyCodeLine{    list.push\_back(std::make\_shared<MyValue>(\textcolor{stringliteral}{"Dessert > all"}));}
\DoxyCodeLine{    list.push\_back(std::make\_shared<MyValue>(1.5));}
\DoxyCodeLine{}
\DoxyCodeLine{    MyValue listContainer(std::move(list));                                 \textcolor{comment}{//Put the list in field}}
\DoxyCodeLine{}
\DoxyCodeLine{    \textcolor{keyword}{const} \textcolor{keyword}{auto} \&genericList = std::get<MyValue::ValueList>(listContainer.getValue());}
\DoxyCodeLine{}
\DoxyCodeLine{    std::cout << \textcolor{stringliteral}{"Size : "}<< genericList.size() << std::endl;               \textcolor{comment}{//Size : 3}}
\DoxyCodeLine{    \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&it : genericList) \{}
\DoxyCodeLine{        \textcolor{keyword}{auto} \&tmp = it->getValue();}
\DoxyCodeLine{        \textcolor{keywordflow}{if} (std::holds\_alternative<int>(tmp)) \{}
\DoxyCodeLine{            std::cout << std::get<int>(tmp) << std::endl;}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (std::holds\_alternative<std::string>(tmp)) \{}
\DoxyCodeLine{            std::cout << std::get<std::string>(tmp) << std::endl;}
\DoxyCodeLine{        \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (std::holds\_alternative<double>(tmp)) \{}
\DoxyCodeLine{            std::cout << std::get<double>(tmp) << std::endl;}
\DoxyCodeLine{        \}}
\DoxyCodeLine{    \}}
\DoxyCodeLine{    \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\}}
\end{DoxyCodeInclude}
 